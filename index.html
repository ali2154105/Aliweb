<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ø§ÙˆÙŠ</title>

<style>
  :root{
    --bg0:#050612;
    --bg1:#0A1030;
    --text: rgba(255,255,255,.92);
    --muted: rgba(255,255,255,.70);
    --glass: rgba(255,255,255,.06);
    --stroke: rgba(255,255,255,.14);
    --shadow: 0 22px 70px rgba(0,0,0,.55);
    --radius: 22px;
    --ease: cubic-bezier(.2,.8,.2,1);
  }
  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, "Noto Sans Arabic", sans-serif;
    color:var(--text);
    background:
      radial-gradient(1200px 800px at 20% 15%, rgba(255,61,184,.16), transparent 60%),
      radial-gradient(1000px 700px at 80% 30%, rgba(61,220,255,.16), transparent 60%),
      radial-gradient(900px 700px at 40% 85%, rgba(143,61,255,.10), transparent 60%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    overflow:hidden;
  }

  /* Ø®Ù„ÙÙŠØ© Ù„Ø·ÙŠÙØ© */
  .orbs{ position:fixed; inset:-20vh -20vw; filter: blur(26px); pointer-events:none; opacity:.9; }
  .orb{
    position:absolute;
    width: clamp(240px, 32vw, 620px);
    height: clamp(240px, 32vw, 620px);
    border-radius:50%;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%),
                linear-gradient(135deg, rgba(255,61,184,.44), rgba(61,220,255,.38));
    mix-blend-mode: screen;
    animation: float 12s var(--ease) infinite;
    will-change: transform;
  }
  .orb:nth-child(2){
    width: clamp(220px, 28vw, 560px);
    height: clamp(220px, 28vw, 560px);
    background: linear-gradient(135deg, rgba(61,220,255,.42), rgba(255,217,61,.24));
    animation-duration: 15s;
  }
  .orb:nth-child(3){
    width: clamp(200px, 24vw, 480px);
    height: clamp(200px, 24vw, 480px);
    background: linear-gradient(135deg, rgba(143,61,255,.34), rgba(255,61,184,.22));
    animation-duration: 18s;
  }
  @keyframes float{
    0%   { transform: translate3d(var(--x0), var(--y0), 0) scale(1); }
    50%  { transform: translate3d(var(--x1), var(--y1), 0) scale(1.06); }
    100% { transform: translate3d(var(--x0), var(--y0), 0) scale(1); }
  }

  /* ===== Intro ===== */
  .intro{
    position:fixed; inset:0;
    display:grid; place-items:center;
    text-align:center;
    z-index:20;
    transition: opacity .55s var(--ease);
    background: radial-gradient(900px 650px at 50% 42%, rgba(255,255,255,.06), transparent 60%);
  }
  .intro.fade{
    opacity:0;
    pointer-events:none;
  }

  .stack{
    display:grid;
    gap: 10px;
    justify-items:center;
    perspective: 900px;
    filter: drop-shadow(0 30px 90px rgba(0,0,0,.55));
    padding: 10px 16px;
  }

  .name{
    position:relative;
    display:inline-block;
    font-weight: 900;
    letter-spacing: .3px;
    line-height: 1.25;          /* Ù…Ù‡Ù… Ù„Ù„Ø¹Ø±Ø¨ÙŠ */
    padding: 6px 10px;

    color: transparent;
    background: linear-gradient(90deg,#ff3d3d,#ffd93d,#3dff7a,#3ddcff,#8f3dff,#ff3db8,#ff3d3d);
    background-size: 220% 100%;
    -webkit-background-clip:text;
    background-clip:text;

    opacity:0;
    transform: translateY(18px) rotateX(18deg) scale(.95);
    animation: enter 1.1s var(--ease) forwards, rgbMove 2.2s ease-in-out infinite alternate;
    will-change: transform, opacity;
  }
  .name.big{ font-size: clamp(36px, 6.2vw, 86px); }
  .name.mid{ font-size: clamp(28px, 4.9vw, 66px); animation-delay:.18s, .18s; }

  @keyframes enter{
    0%{ opacity:0; transform: translateY(24px) rotateX(22deg) scale(.92); filter: blur(5px); }
    60%{ opacity:1; transform: translateY(0) rotateX(0) scale(1.02); filter: blur(0); }
    100%{ opacity:1; transform: translateY(0) rotateX(0) scale(1); }
  }
  @keyframes rgbMove{
    from{ background-position: 0% 50%; }
    to{ background-position: 100% 50%; }
  }

  /* Shine sweep (Ø®ÙÙŠÙ ÙˆØ¢Ù…Ù† Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„) */
  .name::after{
    content:"";
    position:absolute; inset:-30% -40%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.50), transparent);
    transform: translateX(-60%) rotate(12deg);
    opacity:0;
    animation: sweep 1.4s var(--ease) .55s forwards;
    pointer-events:none;
    mix-blend-mode: screen;
  }
  .name.mid::after{ animation-delay:.72s; }

  @keyframes sweep{
    0%{ opacity:0; transform: translateX(-70%) rotate(12deg); }
    20%{ opacity:.85; }
    100%{ opacity:0; transform: translateX(70%) rotate(12deg); }
  }

  /* CSS dissolve fallback (Ù„Ùˆ Ù…Ø§ Ø§Ø´ØªØºÙ„ canvas) */
  .stack.dissolve{
    animation: dissolve .9s var(--ease) forwards;
  }
  @keyframes dissolve{
    to{ opacity:0; transform: translateY(-10px) scale(1.02); filter: blur(6px); }
  }

  /* Canvas FX (Ø®ÙÙŠÙ) */
  #fx{
    position:fixed; inset:0;
    z-index:21;
    pointer-events:none;
    opacity:0;
    transition: opacity .2s var(--ease);
  }
  #fx.on{ opacity:1; }

  /* ===== Main ===== */
  .main{
    position:relative;
    height:100%;
    display:grid;
    place-items:center;
    padding: 24px;
    opacity:0;
    transform: translateY(18px);
    transition: opacity .9s var(--ease), transform .9s var(--ease);
    z-index:1;
  }
  .main.show{ opacity:1; transform: translateY(0); }

  .card{
    width:min(880px, 96vw);
    border-radius: var(--radius);
    padding: 34px 26px;
    text-align:center;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.14);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: var(--shadow);
  }
  .msg{
    margin:0;
    font-size: 18px;
    line-height: 2;
    color: rgba(255,255,255,.88);
  }
  .sig{
    margin-top: 12px;
    font-size: 14px;
    color: rgba(255,255,255,.72);
  }
  .btn{
    margin-top: 16px;
    padding: 12px 16px;
    border-radius: 14px;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.06);
    color: rgba(255,255,255,.92);
    font-weight: 800;
    cursor:pointer;
    transition: transform .18s var(--ease), background .18s var(--ease);
  }
  .btn:hover{ transform: translateY(-2px); background: rgba(255,255,255,.09); }

  @media (prefers-reduced-motion: reduce){
    *{ animation:none !important; transition:none !important; }
    #fx{ display:none; }
    .intro{ display:none; }
    .main{ opacity:1; transform:none; }
    body{ overflow:auto; }
  }
</style>
</head>

<body>
  <div class="orbs" aria-hidden="true">
    <div class="orb" style="--x0: 10vw; --y0: 14vh; --x1: 18vw; --y1: 22vh;"></div>
    <div class="orb" style="--x0: 58vw; --y0: 6vh;  --x1: 50vw; --y1: 18vh;"></div>
    <div class="orb" style="--x0: 30vw; --y0: 56vh; --x1: 40vw; --y1: 66vh;"></div>
  </div>

  <canvas id="fx"></canvas>

  <section class="intro" id="intro">
    <div class="stack" id="stack">
      <div class="name big" id="n1">Ù…Ø­Ù…Ø¯ Ø§Ù„Ø­Ù…Ø§Ø¯ÙŠÙ†</div>
      <div class="name mid" id="n2">Ø²ÙŠÙ†Ø¨ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</div>
    </div>
  </section>

  <main class="main" id="main">
    <div class="card">
      <p class="msg">ÙƒÙŠÙ Ø¨Ø³ğŸ¤” </p>
      <div class="sig">â€” made by Ali</div>
      <button class="btn" id="replay" type="button">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†</button>
    </div>
  </main>

<script>
  const intro = document.getElementById("intro");
  const stack = document.getElementById("stack");
  const n1 = document.getElementById("n1");
  const n2 = document.getElementById("n2");
  const main = document.getElementById("main");
  const replay = document.getElementById("replay");

  const canvas = document.getElementById("fx");
  const ctx = canvas.getContext("2d", { willReadFrequently: true });

  let W=0, H=0, DPR=1;

  function resize(){
    DPR = Math.min(window.devicePixelRatio || 1, 1.5); // Mobile-safe
    W = window.innerWidth; H = window.innerHeight;
    canvas.width = Math.floor(W*DPR);
    canvas.height = Math.floor(H*DPR);
    canvas.style.width = W+"px";
    canvas.style.height = H+"px";
    ctx.setTransform(DPR,0,0,DPR,0,0);
  }
  window.addEventListener("resize", resize);
  resize();

  function rand(a,b){ return a + Math.random()*(b-a); }

  // Ù‚Ø±Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø­Ø³Ø¨ Ø§Ù„Ø¬Ù‡Ø§Ø²
  const deviceMem = navigator.deviceMemory || 4; // ØºØ§Ù„Ø¨Ù‹Ø§ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø¹Ù„Ù‰ iOS
  const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

  // ÙƒØ«Ø§ÙØ© Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª (Ø®ÙÙŠÙØ© Ù„Ù„Ø¬ÙˆØ§Ù„)
  const DENSITY = (isMobile ? 6 : 4);          // ÙƒÙ„ Ù…Ø§ Ø²Ø§Ø¯ Ø§Ù„Ø±Ù‚Ù… Ø£Ø®Ù
  const MAX_PARTS = (isMobile ? 900 : 1600);   // Ø­Ø¯ Ø£Ù‚ØµÙ‰

  let parts = [];
  let raf = null;

  function buildFromElement(el, step){
    const r = el.getBoundingClientRect();
    const text = el.textContent;
    const cs = getComputedStyle(el);

    const off = document.createElement("canvas");
    const oc = off.getContext("2d", { willReadFrequently: true });

    off.width = Math.max(1, Math.floor(r.width));
    off.height = Math.max(1, Math.floor(r.height));

    oc.clearRect(0,0,off.width,off.height);
    oc.textAlign = "center";
    oc.textBaseline = "middle";
    oc.fillStyle = "#fff";
    oc.font = `${cs.fontWeight} ${cs.fontSize} ${cs.fontFamily}`;
    oc.fillText(text, off.width/2, off.height/2);

    const img = oc.getImageData(0,0,off.width,off.height).data;

    for(let y=0; y<off.height; y+=step){
      for(let x=0; x<off.width; x+=step){
        const a = img[(y*off.width + x)*4 + 3];
        if(a > 40){
          const px = r.left + x;
          const py = r.top + y;

          // Ø­Ø±ÙƒØ© â€œØ¯ÙˆØ§Ù…Ø© Ù„Ø·ÙŠÙØ©â€
          const ang = rand(-Math.PI, Math.PI);
          const sp  = rand(0.6, 1.9);

          parts.push({
            x:px, y:py,
            vx: Math.cos(ang)*sp,
            vy: Math.sin(ang)*sp - rand(0.4, 1.6),
            life: rand(40, 85),
            size: rand(1.0, 2.0),
            hue: rand(0, 360)
          });

          if(parts.length >= MAX_PARTS) return;
        }
      }
    }
  }

  function startDisintegrate(){
    parts = [];
    // Ø®Ù„ÙŠÙ‡ Ø¸Ø§Ù‡Ø± Ù„Ø­Ø¸Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©
    n1.style.visibility = "visible";
    n2.style.visibility = "visible";

    buildFromElement(n1, DENSITY);
    buildFromElement(n2, DENSITY);

    // Ø¥Ø°Ø§ Ù…Ø§ Ù‚Ø¯Ø±Ù†Ø§ Ù†ÙƒÙˆÙ‘Ù† Ø¬Ø²ÙŠØ¦Ø§Øª ÙƒÙØ§ÙŠØ© Ù„Ø£ÙŠ Ø³Ø¨Ø¨ â†’ fallback CSS
    if(parts.length < 120){
      stack.classList.add("dissolve");
      setTimeout(showMain, 650);
      return;
    }

    n1.style.visibility = "hidden";
    n2.style.visibility = "hidden";

    canvas.classList.add("on");
    if(raf) cancelAnimationFrame(raf);
    raf = requestAnimationFrame(draw);
  }

  // ØªØ®ÙÙŠÙ Ø­Ù…Ù„: Ù†Ø±Ø³Ù… 30fps ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„
  let last = 0;
  function draw(ts){
    const targetFrame = isMobile ? 33 : 16; // ms
    if(ts - last < targetFrame){
      raf = requestAnimationFrame(draw);
      return;
    }
    last = ts;

    // Trail Ø®ÙÙŠÙ Ø¨Ø¯Ù„ blur (Ø£ÙƒØ«Ø± Ø£Ù…Ø§Ù†Ù‹Ø§)
    ctx.fillStyle = "rgba(5,6,18,0.20)";
    ctx.fillRect(0,0,W,H);

    const sr = stack.getBoundingClientRect();
    const cx = sr.left + sr.width/2;
    const cy = sr.top + sr.height/2;

    for(const p of parts){
      // swirl Ø¨Ø³ÙŠØ·
      const dx = p.x - cx;
      const dy = p.y - cy;
      const dist = Math.max(60, Math.hypot(dx,dy));
      const swirl = isMobile ? 0.10 : 0.14;

      p.vx += (-dy/dist) * swirl;
      p.vy += ( dx/dist) * swirl;

      p.vx *= 0.985;
      p.vy += 0.05;

      p.x += p.vx;
      p.y += p.vy;

      p.life -= 1;

      const a = Math.max(0, Math.min(1, p.life/85));
      ctx.beginPath();
      ctx.fillStyle = `hsla(${p.hue}, 95%, 70%, ${a})`;
      ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
      ctx.fill();
    }

    parts = parts.filter(p => p.life > 0);

    if(parts.length){
      raf = requestAnimationFrame(draw);
    }else{
      canvas.classList.remove("on");
      ctx.clearRect(0,0,W,H);
      showMain();
      if(raf) cancelAnimationFrame(raf);
      raf = null;
    }
  }

  function showMain(){
    intro.classList.add("fade");
    main.classList.add("show");
  }

  function resetAnimations(){
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø¯Ø®ÙˆÙ„ CSS
    n1.style.animation = "none";
    n2.style.animation = "none";
    void n1.offsetWidth;
    void n2.offsetWidth;
    n1.style.animation = "";
    n2.style.animation = "";
  }

  function runAll(){
    // reset visuals
    if(raf) cancelAnimationFrame(raf);
    raf = null;
    parts = [];
    ctx.clearRect(0,0,W,H);
    canvas.classList.remove("on");

    main.classList.remove("show");
    intro.classList.remove("fade");
    stack.classList.remove("dissolve");

    n1.style.visibility = "visible";
    n2.style.visibility = "visible";

    resetAnimations();

    // Ù…Ø¯Ø© ÙƒØ§ÙÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ø®ÙˆÙ„ + Ø§Ù„Ù„Ù…Ø¹Ø©ØŒ Ø¨Ø¹Ø¯ÙŠÙ† Ø§Ù„ØªÙÙƒÙƒ
    const wait = isMobile ? 1700 : 1650;
    setTimeout(startDisintegrate, wait);
  }

  replay.addEventListener("click", runAll);
  runAll();
</script>
</body>
</html>

